<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>试卷批改分析</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- 添加 MathJax 支持 -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <h1>试卷批改分析</h1>
        
        <!-- API密钥输入 -->
        <div id="apiKeySection">
            <input type="text" id="apiKeyInput" placeholder="请输入API密钥">
            <button id="saveApiKey">保存API密钥</button>
        </div>

        <!-- 模型选择 -->
        <div id="modelSelection">
            <select id="modelSelect">
                <option value="glm-4v-plus">GLM-4V-Plus (推荐)</option>
                <option value="glm-4v">GLM-4V</option>
                <option value="cogview-3">CogView-3</option>
            </select>
        </div>

        <!-- 文件上传 -->
        <div class="upload-section">
            <input type="file" id="fileInput" accept="image/*" style="display: none;">
            <button id="uploadButton">选择图片</button>
            <div id="fileName"></div>
        </div>

        <!-- 图片预览 -->
        <div id="imagePreview" style="display: none;">
            <h2>图片预览</h2>
            <img id="previewImage" src="" alt="预览图片">
        </div>

        <!-- 分析结果 -->
        <div id="analysisResult" style="display: none;">
            <h2>分析结果</h2>
            <div id="resultContent" class="result-content"></div>
        </div>

        <!-- 加载提示 -->
        <div id="loadingIndicator" style="display: none;">
            <div class="spinner"></div>
            <p>正在分析中，请稍候...</p>
        </div>

        <!-- 错误信息 -->
        <div id="errorMessage" class="error-message" style="display: none;"></div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html> 